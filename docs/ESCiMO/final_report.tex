\documentclass[12pt,a4paper]{report}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{tikz} 
\usepackage{float} 
\usepackage{pgf-umlcd} 
\usepackage{pgf-umlsd} 
\usepackage{listings}

\renewcommand{\chaptername}{}

\title{
Final Report - ESCiMO \\
in \LaTeX{}
}

\author{
Joris Vergeer - 1585591\\
Gerben Boot - 1575754\\
\\
\\
Daniel Telgren
}

\begin{document}
\maketitle

\begin{abstract}
%%
%%TODO Rewrite parts of this
%%
Grid Manufacturing (GM) is a new production paradigm, based upon the use of standardized and modular Reconfigurable Manufacturing Systems (RMS).\cite{SICE13}
A production unit in a RMS is called an Equiplet.
Each Equiplet contains interchangeable modules. 
These hardware modules have software counterparts.
In this report we look at the realisation of the State Machines build into the software counterparts of modules and Equiplets as well as the realisation of a SCADA for the Equiplet with its modules.
\end{abstract}

\tableofcontents


\chapter{Introduction}
In the 6th semester of our course Computer Science at the University of Applied Science Utrecht we participated in the Ubiquitous Computing specialisation.

\subsubsection{Agile/Grid manufacturing}
To meet the requirements of modern production, where short time to market, requirement-driven production and low cost small quantity production are important issues, we have de-veloped a production hardware infrastructure as well as an
agent-based software infrastructure for agile industrial pro-duction. This production is done on special devices called Equiplets. A grid of these Equiplets connected by a fast net-work is capable of producing a variety of different products
in parallel. The multi-agent-based software infrastructure is responsible for the agile manufacturing.\cite{Paper70}

\subsubsection{Equiplet}
The Equiplet is a part of the Agile/Grid manufacturing. An Equiplet consist of Serveral Agents and a ROS node. Based on the connected modules of the Equiplet, provide the Equiplet services for an other agent in the Agile/Grid manufactoring environment. 
\paragraph{Agent}
The Equiplet agent is the leading agent for the Equiplet. It is responsible for negotiation with the product agent and managing the Equiplet schedule.\cite{REXOS_Design}
\paragraph{Service Agent}
The service agent is responsible for translating a product step into service step(s). The service agent also represents Equiplet services based on the attached modules. The set of product steps which can be performed is based on the services it provides.\cite{REXOS_Design}
\paragraph{Hardware Agent}
The hardware agent is responsible for the interaction with the ROS layer. It translates service steps into Equiplet steps, which can be interpreted by the ROS layer. It has a specific piece of software for each hardware module that is currently attached to the Equiplet. Each one of these pieces of software is responsible for its own hardware module on the Equiplet, and handle the actual translation. Each service step has a specific module that will lead the translation. \cite{REXOS_Design}
\paragraph{ROS Equiplet}
The ros Equiplet is the responsible for the control of a set of modules which belong to by the Equiplet. This Equiplet part works with the the ROS system.

\subsubsection{Module}
An module is an part of the system which controls one or more devices. This part can be seen as the lowest layer of the hardware control. A distinction is made between modules that contain parts that are potentially dangerous and modules that do not contain these parts. These parts are, amongst others, all moving parts,parts that heat up, parts that eject matter and parts that emit electromagnetic radiation. Modules that contain any of these parts are known as actors. Their counterparts (modules that are not potentially dangerous) are nonactors.\cite{mast_funcional_design}

\subsubsection{Blackboards}
The Agile Manufacturing contain of three blackboard:Product steps,Service steps and Equiplet steps. These blackboard will be used to communicate between the Equiplet agents or to communicate with the ROS node. All these blackboard steps contain a state, about the progress of the step:EVALUATING, PLANNED, WAITING, IN PROGRESS, SUSPENDED/WARNING, DONE, ABORTED and FAILED.

\subsubsection{State Machine}
A finite-State Machine (FSM) or finite-state automaton (plural: automata), or simply a State Machine, is a mathematical model of computation used to design both computer programs and sequential logic circuits. It is conceived as an abstract machine that can be in one of a finite number of states. The machine is in only one state at a time; the state it is in at any given time is called the current state. It can change from one state to another when initiated by a triggering event or condition; this is called a transition. A particular FSM is defined by a list of its states, and the triggering condition for each transition.\cite{state_machine}

\subsubsection{Equiplet, SCada, MOdules (ESCiMO)}
In our ubiquitous computing project we are developing a system to control a production unit in an RMS called Equiplet.\\ 
Equiplets contain interchangeable modules. 
You can reconfigure an Equiplet by changing its modules.
Because modules can be changed on the fly, the Equiplet has to dynamically adapt to its new configuration.
Due to the autonomous nature of Equiplets they can receive instruction at any time.\\
This together creates a lot of problems we have to solve.

\chapter{Project team}
The following people have worked on ESCiMO

\begin{tabular}{l | l}
Name       & Role \\
\hline
D. Telgren & Project supervisor \\
G. Boot    & Software developer EST, MOST \\
J. Vergeer & Software developer SCADA, MOST
\end{tabular}

\input{tex/assignment.tex}

\input{tex/analysis.tex}

\input{tex/design.tex}

\chapter{Final product}
\section{Result}
\input{tex/technical_design.tex}

\newpage
\section{Recommendations}
\paragraph{Emergency Stop}
Currently the Emergency Stop is implemented in the State Machines, but hasn't been worked out.

\paragraph{Equiplet Agent control}The Equiplet agents should control the state and the modes by the blackboard. This can be needed to set the Equiplet 

\paragraph{Equiplet Agent State Machine}Maybe in the future it should be possible to use a State Machine for the Agents. The State Machine that this document describe is based on hardware states, so probably a new State Machine must be designed for this.

\chapter{Process and planning}
\section{Project  approach}
The approach can be set as an step list how we have worked this project.
\begin{enumerate}
\item Research the current situation and the requirements
\item Determine the Requirements
\item Design the new functionality
\item Implement the new functionality
\item Testing
\item Document the results.
\end{enumerate}

\newpage
\section{Planning}
\subsubsection{Phase 1}
\begin{itemize}
\item Research the current implementation, documentation, \item papers and ideas of MAST.
\item Write Project Plan
\end{itemize}
Period: Block C Week 1 / 6

\subsubsection{Phase 2}
\begin{itemize}
\item Redesign MAST
\item Write the Functional design document
\item Write a Technical design document
\end{itemize}
Period: Block C projectweek 1

\subsubsection{Phase 3}
\begin{itemize}
\item Creating MAST into dummy nodes
\item Create a proof of concept
\item MUST haves of SCADA system
\end{itemize}
Period: Block C projectweek 2 + Block D week 1/2

\subsubsection{Phase 4}
\begin{itemize}
\item Implementing MAST into Agile Project
\item SCADA
\end{itemize}

\newpage
\section{Project Evaluation}
\subsection{Planning}
In the beginning an initial planning was made. 
After a couple of months the initial planning did not corresponds to new developments and has to be renewed.
Soon the planning became obsolete again and work started to be done on a priority base.

\subsection{Expectations}
In the end the project turned out to be more difficult than initially expected.
In the beginning the expectation were that only a State Machine must be developed.
After some discussions and meetings with the project owners the whole project was unexpectedly up-scaled and redefined.

\subsection{Bottlenecks}
\subsubsection{Information gathering}
One of the biggest bottlenecks was information gathering.
It took a lot of time before it was clear what was expected.

\subsubsection{Improper use of project space}
For the project there was a room reserved where people who work on the project could work quietly.
However some teachers felt that that room was in ideal place to asses projects involving buzzers from students from earlier years.
This made the workplace busy and noisy.
Some days it was so noisy that other workplaces had to be found.

\subsection{Setbacks}
After a month of gathering information and creating a design that would satisfy all reasonable use cases it became clear that Erik Puik just wanted to see his idea back.

\subsection{Teamwork}
The teamwork was good. 
Each of the team-mates was skilled in other areas.
This resulted in some discussions form now and then.

\chapter{Abbreviations and concepts}
bron:[Project Transfer Document] Overview]
\subsubsection{ROS}
The Robot Operating System is an open source meta-operating system, designed to run on top of linux (Ubuntu): “It provides the services you would expect from an operating system, including hardware abstraction, low-level device control, implementation of commonly-used functionality, message-passing between processes, and package management. It also provides tools and libraries for obtaining, building, writing, and running code across multiple computers.”[32]
\subsubsection{Agent}
“The word ‘agent’ comes from the Latin word ‘agere’, meaning: ‘to act’. Software agents are autonomous entities[28] that have their own purpose and the ability to communicate with other agents. There are many definitions of a software agent, we prefer the definition of Wooldridge and Jennings[29] “An agent is an encapsulated computer system that is situated in some environment and that is capable of flexible, autonomous action in that environment in
order to meet its design objectives”.”[27]
\subsubsection{Mas}
“A multi-agent system (MAS) is a system composed of multiple interacting intelligent agents within an environment. Multi-agent systems can be used to solve problems that are difficult or impossible for an individual agent or a monolithic system to solve. Intelligence may include some methodic, functional, procedural or algorithmic search, find and processing approach.”[30]
\subsubsection{Grid}
A grid is a controlled group of Equiplets.
\subsubsection{Equiplet}
An Equiplet is a product, the hardware, the "generic" modular machine (the HUniplacer is a prototype "instance" of an Equiplet type machine). An Equiplet consist of one or more hardware parts which he is able to perform tasks.
\subsubsection{Module}
An module control some hardware parts of the Equiplet. It is an subset of hardware devices of the Equiplet.
\subsubsection{Device}
An device is an hardware element which produce information(sensors) or is able to execute tasks(actors).
\subsubsection{Blackboard}
bron:[Technical Design] Blackboard system
A blackboard is a structure for saving data and can be implemented as a database. It can also be used as a communication medium (e.g. a component submits a message to the blackboard and another component reads the submitted message) or as a knowledge sharing cent

\bibliographystyle{plain}
\bibliography{references}
\end{document}
